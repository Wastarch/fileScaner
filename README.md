# FileScanner - Android文档扫描应用

FileScanner是一款功能实用的Android文档扫描应用，支持通过相机拍照或从相册选择图片进行文档扫描处理，提供高质量的图像增强和二值化功能，帮助用户快速将纸质文档数字化。

本软件根据 GNU 通用公共许可证第三版授权。然而，以下附加限制适用：
- 禁止对本软件进行任何形式的商业使用，除非获得版权持有人的事先书面许可。
- “商业使用”包括但不限于：将本软件集成到商业产品中、使用它来提供商业服务、或将其作为营利活动的一部分进行分发。

## 功能特性

- 📸 **相机扫描**：直接通过相机拍摄文档并进行实时处理
- 📁 **相册导入**：从设备相册选择现有图片进行扫描处理
- ✨ **图像增强**：自动进行灰度转换、对比度增强和二值化处理
- 🔄 **图片编辑**：支持图片旋转（左转/右转）功能
- 📚 **历史记录**：自动保存扫描历史，方便查看和管理
- 🗑️ **批量管理**：支持长按选择多张图片并批量删除
- 📱 **自适应布局**：支持不同屏幕尺寸的Android设备

## 技术栈

- **开发语言**：Kotlin
- **基础框架**：AndroidX
- **图像处理**：OpenCV 4.5.3.0
- **相机API**：Android CameraX
- **最低API级别**：24 (Android 7.0 Nougat)
- **目标API级别**：36 (Android 14)

## 应用架构

应用采用经典的Activity架构，主要包含以下几个核心模块：

1. **主界面 (MainActivity)**
   - 应用入口点
   - 提供相机拍照、相册选择和历史记录访问功能
   - 处理权限请求和相机调用

2. **图像处理界面 (ImageProcessingActivity)**
   - 核心图像处理逻辑
   - 实现灰度转换、对比度增强和二值化算法
   - 提供处理前后对比预览

3. **图片详情界面 (ImageDetailActivity)**
   - 显示图片全屏预览
   - 提供图片旋转编辑功能
   - 支持再次处理图片

4. **历史记录界面 (HistoryActivity)**
   - 以网格布局展示所有扫描历史
   - 支持长按进入多选模式
   - 实现批量删除功能

## 图像处理流程

1. **输入获取**：通过相机拍摄或相册选择获取原始图像
2. **预处理**：灰度转换，将彩色图像转换为灰度图
3. **增强处理**：提升对比度，使文档内容更加清晰
4. **二值化**：将图像转换为黑白二值图像，突出文字内容
5. **预览确认**：显示处理前后对比，供用户确认
6. **保存管理**：保存处理后的图像到应用私有存储目录

## 安装说明

1. **开发环境设置**：
   - Android Studio 2022.3.1或更高版本
   - JDK 11
   - Android SDK 36
   - Kotlin插件最新版本

2. **构建和运行**：
   ```bash
   # 克隆仓库（如果适用）
   git clone <repository-url>
   
   # 使用Android Studio打开项目
   # 或使用命令行构建
   ./gradlew assembleDebug
   
   # 安装到设备
   ./gradlew installDebug